# ============================================================================
# STAGING ENVIRONMENT CONFIGURATION
# ============================================================================
# This environment mirrors production but with relaxed settings for testing
# Use this for pre-production testing and QA
# ============================================================================

# Application Settings
APP_NAME="DocuSign Signing API - Staging"
APP_ENV=staging
APP_KEY=
APP_DEBUG=true
APP_URL=https://staging-api.yourdomain.com
APP_TIMEZONE=UTC

# Database (Use staging database server)
DB_CONNECTION=pgsql
DB_HOST=your-staging-postgres-server.com
DB_PORT=5432
DB_DATABASE=signing_api_staging
DB_USERNAME=signing_api_staging_user
DB_PASSWORD=
DB_SCHEMA=public
DB_SSLMODE=require
DB_CONNECTION_POOL_SIZE=10
DB_IDLE_TIMEOUT=60

# Cache & Sessions (Use Redis)
CACHE_STORE=redis
CACHE_PREFIX=signing_api_staging_
SESSION_DRIVER=redis
SESSION_LIFETIME=120

# Queue (Use Redis)
QUEUE_CONNECTION=redis
QUEUE_PREFIX=signing_api_staging_

# Redis (Use staging Redis instance)
REDIS_CLIENT=phpredis
REDIS_HOST=your-staging-redis-server.com
REDIS_PASSWORD=
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2
REDIS_SESSION_DB=3

# Mail (Use SES with test domain)
MAIL_MAILER=ses
MAIL_FROM_ADDRESS="noreply-staging@yourdomain.com"
MAIL_FROM_NAME="${APP_NAME}"

# AWS SES Configuration (staging)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# AWS S3 for Document Storage (staging bucket)
FILESYSTEM_DISK=s3
AWS_BUCKET=signing-api-documents-staging
AWS_DOCUMENTS_BUCKET=signing-api-documents-staging
AWS_DOCUMENTS_REGION=us-east-1

# OAuth & API Configuration
PASSPORT_ACCESS_TOKEN_LIFETIME=60
PASSPORT_REFRESH_TOKEN_LIFETIME=20160
PASSPORT_PERSONAL_ACCESS_TOKEN_LIFETIME=262800
API_VERSION=v2.1
API_RATE_LIMIT_AUTHENTICATED=1000
API_RATE_LIMIT_UNAUTHENTICATED=100

# Horizon Configuration
HORIZON_PATH=horizon
HORIZON_MEMORY_LIMIT=128
HORIZON_BALANCE=auto
HORIZON_PROCESSES=3
HORIZON_TRIES=3
HORIZON_TIMEOUT=300

# Logging (more verbose than production)
LOG_CHANNEL=stack
LOG_STACK=daily,slack
LOG_LEVEL=debug
LOG_SLACK_WEBHOOK_URL=

# Security Settings (slightly relaxed for testing)
FORCE_HTTPS=true
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax
CORS_ALLOWED_ORIGINS="https://staging-app.yourdomain.com,http://localhost:3000"

# Error Tracking (Sentry - staging)
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0

# Monitoring (New Relic - staging)
NEW_RELIC_ENABLED=true
NEW_RELIC_APP_NAME="DocuSign Signing API - Staging"
NEW_RELIC_LICENSE_KEY=

# Billing (Stripe - test mode)
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=

# Document Processing
MAX_DOCUMENT_SIZE=25000000
MAX_DOCUMENTS_PER_ENVELOPE=50
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx

# Testing Flags
ENABLE_TEST_MODE=true
ALLOW_TEST_USERS=true
SKIP_EMAIL_VERIFICATION=false
